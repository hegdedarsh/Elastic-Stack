## Install X-Pack

1)Download the X-Pack binary

```
wget https://artifacts.elastic.co/downloads/packs/x-pack/x-pack-6.2.4.zip
```

<img width="1418" alt="x-pack-1" src="https://user-images.githubusercontent.com/20787443/51154429-b6b1ea00-18ae-11e9-89b3-5216ef7d699c.png">


2)Run the below command to install the x-pack plugin.Select y and y when its prompted to complete the installation.

```
./bin/elasticsearch-plugin install file:///home/elastic/x-pack-6.2.4.zip
```

<img width="1418" alt="screenshot 2019-01-15 at 11 33 21 am" src="https://user-images.githubusercontent.com/20787443/51157118-65f3be80-18b9-11e9-831b-aa501c464da7.png">


<img width="1418" alt="screenshot 2019-01-15 at 11 35 59 am" src="https://user-images.githubusercontent.com/20787443/51157204-c5ea6500-18b9-11e9-8fb7-b1466be2658a.png">

3)Repeat the same process on the other 2 data nodes



4)Generate CA with certutil tool.Do this on the master

For this,you need to go the config directory in elasticsearch folder and then create a new folder called "certs".

Execute the below command to generate a CA cert.Keep the desired output file as it is, just add the password when its prompted.

```
/home/elastic/elasticsearch/bin/x-pack/certutil ca
```


<img width="1418" alt="screenshot 2019-01-15 at 11 54 34 am" src="https://user-images.githubusercontent.com/20787443/51157821-8cffbf80-18bc-11e9-9aa1-54e4e3bdb5bf.png">


5)Generate a node certificate

```
/home/elastic/elasticsearch/bin/x-pack/certutil cert --ca elastic-stack-ca.p12 --name master --dns darshanphegde1c.mylabserver
.com --ip 172.31.3.251
```
The ip has to be private ip and dns is the hostname
It will prompt for the password of the ca ,provide that and then chose the output file name as it is and then provide a password for the node certificate.

<img width="1418" alt="screenshot 2019-01-15 at 12 50 31 pm" src="https://user-images.githubusercontent.com/20787443/51159449-3f875080-18c4-11e9-982e-cee320e4684c.png">

<img width="1418" alt="screenshot 2019-01-15 at 12 52 06 pm" src="https://user-images.githubusercontent.com/20787443/51159477-69d90e00-18c4-11e9-9d7b-2702d22f6e4d.png">

